package org.example;

import java.util.ArrayList;
import java.util.List;

/**
 * Register for objects i DiaryEntry
 */

public class Diary {
    private final List<DiaryEntry> entries; //flertallsnavn

    public Diary() {
        this.entries = new ArrayList<>();
    }

    /**
     * funksjonalitet for å søke etter entries ved bruk av søkeord
     * foreløpig gir kun feilmeldinger hvis ingen søkeord er brukt, eller søkeord som ikke er i innhold
     * TODO: lag en som kan søke etter entries, og test
     *
     * @param searchWord
     */
    public void search(String searchWord) {
        if (searchWord == null || searchWord.isEmpty()) {
            System.out.println("Vennligst søk etter et ord");
            return;
        }
        String lower =  searchWord.toLowerCase();
        boolean found = false;
        for (DiaryEntry entry : entries) {
            if (entry.getTitle().toLowerCase().contains(lower) ||
                entry.getAuthor().toLowerCase().contains(lower)) {
                System.out.println(entry);
                System.out.println("------------");
                found = true;
            }
        }
        if (!found) {
            System.out.println("Fant ingen entries som har søkeordet \"" +searchWord+"\".");
        }
    }


    /**
     * Lager nytt innlegg. Parameter valideres av DiaryEntry
     *
     * @param title
     * @param author
     * @param entry
     */

    public void addEntry(String title, String author, String entry) {
        DiaryEntry newEntry = new DiaryEntry(title, author, entry);
        entries.add(newEntry);
    }

    /**
     * viser dagbok innlegg, hvis noen finnes
     */

    public void showAllEntries() { //dette er for #2, skal la meg se tidligere skrevet dagbøker.
        if (entries.isEmpty()) {
            System.out.println("Ingen dagbokinnlegg."); //melding hvis ingen innlegg finnes
            return;
        }
        for (DiaryEntry entry : entries) { // hvis if statementet ikke går gjennom (altså det er et inlegg)
            System.out.println(entry);
            System.out.println("---------------------------");
        }
    }
    /**
     * skal returnere antall innlegg (feks 2 innlegg, 5 innlegg, 0 innlegg)
     */
    public int size() {
        return entries.size();
    }
}
